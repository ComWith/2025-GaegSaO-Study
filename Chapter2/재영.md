# 📘 02 / 이상한 나라의 객체

## 객체지향과 인지 능력

---

- 인간은 세상을 독립적이고 식별 가능한 객체들의 집합으로 바라본다.
- 인지 능력 덕분에 물리적 사물뿐 아니라 개념적/추상적 대상도 객체로 인식할 수 있다.
- 인간은 세상을 더 작은 객체 단위로 분해하여 복잡성을 극복하고 이해한다.
- 소프트웨어 객체 역시 인간의 인지에서 출발하지만, 현실 객체와는 다르다.
  - 소프트웨어 객체는 스스로 상태를 바꾸는 자율적인 존재다.

## 객체, 그리고 이상한 나라

---

- **상태**는 시간에 따라 변하며, **행동**에 의해 변화한다.
- **행동의 결과**는 상태에 의존한다.
- 행동의 성공 여부는 이전에 어떤 행동이 있었는지에 따라 달라진다 → **행동의 순서**가 중요하다.
- 상태가 변해도 객체는 여전히 유일하게 식별 가능하다.

**앨리스의 특징**
- 상태를 가지며, 상태는 변경 가능하다.
- 상태를 변경시키는 것은 행동이다.
  - 행동 결과는 상태에 의존한다.
  - 행동 순서가 결과에 영향을 준다. 
- 어떤 상태에서도 앨리스는 유일하게 식별 가능하다.

## 객체, 그리고 소프트웨어 나라

---

- 객체는 **상태**(**state**), **행동**(**behavior**), **식별자**(**identity**)를 가진다.

> **객체의 정의**  
> 객체란 식별 가능한 개체 또는 사물이다. 구체적인 사물일 수도 있고, 추상적인 개념일 수도 있다.  
> 객체는 **식별자**, **행동**, **변경 가능한 상태**를 가진다.

- 상태는 과거의 행동을 단순히 설명하기 위한 개념이다.
- 상태는 **프로퍼티(property)** 로 구성되며, 이는 고정적이지만 프로퍼티 값은 동적으로 변한다.
- 객체 상태는 **속성(attribute)** 과 다른 객체를 참조하는 **링크(link)** 의 조합으로 표현된다.

> **상태의 정의**  
> 상태는 특정 시점에 객체가 가진 정보의 집합이다.  
> 상태는 정적인 프로퍼티와 동적인 프로퍼티 값으로 구성되며, 프로퍼티는 속성과 링크로 나눌 수 있다.

- 행동은 상태를 변경시키며 **부수 효과(side effect)** 를 발생시킨다.
- 행동은 협력 참여의 유일한 수단이며, 외부와의 메시지 교환으로 이뤄진다.
- 행동의 결과는 두 가지 측면에서 나타난다:
  - 객체 자신의 상태 변경
  - 다른 객체에 대한 메시지 전송

> **행동의 정의**  
> 행동이란 외부 요청이나 메시지에 응답해 수행되는 활동이다.  
> 행동의 결과로 객체는 자신의 상태를 변경하거나 다른 객체에 메시지를 전달한다.

- **캡슐화** : 메시지 송신자는 수신자의 내부 상태를 알 수 없다. 객체는 상태를 숨기고 행동만 공개한다.
- 객체는 **식별자**를 통해 구별된다.

> **식별자의 정의**  
> 식별자는 객체를 다른 객체와 구분하는 프로퍼티다.  
> 값은 식별자가 없으므로 동등성(equality)으로 비교하지만, 객체는 동일성(identity)으로 비교한다.

- 값(Value)과 객체(Object)의 차이
  - **값** : 불변, 상태만 같으면 동일 → 동등성
  - **객체** : 가변, 식별자를 기준으로 동일 → 동일성
  - 구현에서는 클래스 기반으로 **값 객체(value object)** 와 **참조 객체(reference object, entity)** 로 구분한다.

- 객체는 상태 조회(**쿼리**)와 변경(**명령**)으로 외부와 상호작용한다.

**객체의 특징 요약**
- 상태를 가지며 변경 가능하다. 
- 상태를 변경시키는 것은 행동이다.
  - 행동 결과는 상태에 의존하며, 순서에 따라 달라진다. 
- 어떤 상태에서도 객체는 유일하게 식별 가능하다.

## 행동이 상태를 결정한다

---

- 상태를 먼저 설계하면 문제가 발생한다.
  1. 캡슐화 저해
  2. 협력 문맥에서 벗어난 고립된 객체 생성
  3. 재사용성 저하

- 객체의 적합성을 결정하는 것은 **상태가 아니라 행동**이다.
- 행동은 협력 속에서 객체가 완수해야 하는 **책임**이며, 이를 기반으로 하는 것이 **책임-주도 설계(RDD)** 다.

## 의인화와 은유 : 객체의 오해

---

- 객체지향을 현실의 단순 모방으로 보는 것은 불완전하다.
- 현실 객체는 수동적이지만 소프트웨어 객체는 능동적이다 → **의인화(anthropomorphism)**
- 객체는 현실 객체의 일부 의미만 전달받아 새로운 세계를 만든다 → **은유(metaphor)**
- 은유는 **표현적 차이**(representation gap)를 줄여 이해하기 쉬운 소프트웨어 구조를 만든다.

## 정리

---

- 객체는 **상태**, **행동**, **식별자**를 가진다.
- 객체의 적합성은 **상태가 아니라 행동**으로 결정된다.
- 객체의 행동은 협력 내에서의 책임이며, **책임-주도 설계(RDD)** 를 통해 설계해야 한다.
- 객체지향은 현실의 단순 모방이 아닌, **의인화**와 **은유**를 통한 새로운 세계 창조다.  
