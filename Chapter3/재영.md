# 📘 03 / 타입과 추상화

## 추상화를 통한 복잡성 극복

---

- 인간은 복잡한 현실을 이해/예측 가능한 수준으로 분해하고 단순화하려 한다.
- **추상화**는 불필요한 세부를 도려내어 본질을 드러내는 과정이다 → 복잡성 대응을 위한 인간의 기본 인지 수단.

> **추상화의 정의**
>
> 특정 양상·세부·구조를 더 명확히 이해하기 위해 일부를 의도적으로 **생략/은닉**하여 복잡도를 줄이는 방법.  
> 추상화는 두 차원에서 작동한다.
> - **1차원(일반화)**: 여러 구체물의 **공통점은 취하고 차이점은 버려** 단순화한다.
> - **2차원(세부 제거)**: **중요한 부분을 강조**하기 위해 **불필요한 세부를 제거**한다.
>
> 모든 경우에 목적은 **복잡성을 이해 가능한 수준으로 단순화**하는 것이다.

- 객체지향은 **객체라는 추상화**로 현실의 복잡성을 다룬다.  
  → 두 차원을 올바르게 이해/적용하는 것이 출발점.

## 객체지향과 추상화

---

- 경계를 가진 구체적 사람/사물을 **객체**라 부른다.
- 사람은 공통 특성에 따라 객체들을 묶어 **복잡성을 완화**한다 → 그 그릇이 **개념(concept)**.
- 개념으로 객체들을 **분류**(classification)할 수 있다. 개념을 적용받은 객체는 그 개념의 **인스턴스**(instance)가 된다.

> **객체의 정의**  
> **객체**란 특정 **개념**을 적용할 수 있는 **구체적 사물**이다. 개념이 적용된 순간, 그 객체는 개념의 **인스턴스**가 된다.

- 개념은 세 관점으로 이해할 수 있다.
  - **심볼(symbol)**: 개념을 가리키는 이름
  - **내연(intension)**: 개념의 완전한 정의(소속 판단 기준)
  - **외연(extension)**: 개념에 속하는 모든 객체의 집합(set)


- 세가지 관점보다, **개념으로 객체를 분류할 수 있다**는 사실이 더 중요함.

> **분류의 정의**  
> **분류**란 객체에 특정 **개념**을 적용하여 **그 집합의 멤버**로 편입시키는 행위다.

- 좋은 분류 체계는 유지보수 용이성, 변경 대응력, 개발자의 **정신적 지도**를 제공한다.  
  → **개념은 추상화 도구**다.

## 타입

---

- **타입**(type)의 정의는 **개념**의 정의와 완전히 동일하다. (심볼/내연/외연으로 서술 가능, **타입 인스턴스**가 존재)

> **타입의 정의**  
> **타입**은 우리가 인식하는 사물에 적용 가능한 관념(개념)이다. 객체가 타입의 **외연 집합**에 속할 때 그 객체를 **타입의 인스턴스**라 한다.

- 0/1의 무질서 속에서 데이터를 용도·행동 기준으로 **분류**하려는 장치가 **타입 시스템**이다.  
  → 데이터의 **오용**을 방지하는 제약 장치.


- (데이터) 타입에 관한 두 가지 핵심:
  1) **어떤 연산을 적용할 수 있는지**가 그 데이터의 타입을 결정한다.
  2) 내부 **표현 방식은 감춰지고**, 사용자는 허용된 연산만 알면 된다.

> **데이터 타입의 정의**  
> 메모리에 저장된 데이터를 **종류별로 분류**하는 메타데이터. 이 분류는 **허용 연산의 범위**를 암시한다.

### 객체와 타입

- 객체지향에서 객체도 **데이터처럼 사용**하므로, 객체를 **타입**으로 분류한다. (단, **타입 ≠ 클래스**: 클래스는 타입 구현 도구 중 하나)
- 객체는 **행동**에 따라 변하는 **상태**를 갖지만, 객체지향에서 **핵심은 행동**이다. 상태는 **행동의 부수효과**일 뿐이다.

> #### ✏️ 상태 & 데이터
> **상태는 곧 데이터**이지만, **행동과 결합된 데이터**로 이해하는 게 정확하다.
> - 상태는 **행동을 통해서만 드러나며**, 행동은 상태 변화를 야기한다.  
>   ⇒ 상태를 **데이터 그 자체**가 아닌 **행동이 결정하는 맥락 속의 데이터**로 보라.

- 객체 타입에 관한 두 가지 핵심:
  1) 어떤 객체가 **어떤 타입**인지 결정하는 것은 그 객체가 **수행하는 행동**이다.  
     → **동일한 행동**을 수행하면 **동일 타입**으로 분류 가능.
  2) 객체의 **내부 표현은 감춰진다**. 행동을 잘 수행하면 내부 표현은 어떤 방식이어도 무방.

### 행동이 우선이다

**(첫 번째 차원: 공통 행동으로 일반화)**
- **동일 책임**을 수행하는 객체군은 **동일 타입**에 속한다.
- 타입은 **행동**으로만 결정되며, 내부 데이터는 영향이 없다.
- 같은 타입이라도 서로 다른 내부 데이터/표현을 가질 수 있다.
  - 동일한 메시지(요청)에 **다르게 응답 가능** → **다형성**.
  - 동일한 메시지를 수신하려면 **동일 타입**이어야 한다.

**(두 번째 차원: 데이터는 행동 뒤로 숨기기)**
- 훌륭한 설계는 **행동만 공개**하고, **데이터는 캡슐화**한다.
- **책임(행동)을 먼저 결정**하고, 그 책임을 수행하기에 적합한 **데이터를 나중에** 결정하라.
  
  → 데이터를 먼저 고르면 경직되고 유연성 낮은 설계가 된다.

- **책임-주도 설계**(RDD)는 데이터-주도 설계(DDD)의 약점을 보완한다.

⇒ 객체를 결정하는 것은 **행동**이고, 데이터는 **행동을 따른다**.

## 타입의 계층

---

- **일반화/특수화**(**generalization/specialization**)는 **행동**을 기준으로 결정된다.
  - **일반 타입**: 특수 타입의 행동 중 **일부만** 가진다.
  - **특수 타입**: 일반 타입의 **모든 행동** + **추가 행동**.


- 관계의 성질:
  - 특수 타입은 일반 타입보다 **행동 수가 많고** 외연(집합)은 **작다**.
  - 일반 타입은 **행동 수가 적고** 외연은 **크다**.
  - **서브타입은 슈퍼타입을 대체**할 수 있어야 한다(행동 호환).


- 표기 관례:
  - 슈퍼타입 ↑ (상단), 서브타입 ↓ (하단), **서브 → 슈퍼** 방향으로 연결(화살표).
  - 서브타입은 슈퍼타입과 **중복 행동 생략** 가능(자동 상속/승계).


- 실무 감각:
  - [분류, 1차원] 공통점만 모아 **슈퍼타입**으로 묶기.
  - [일반화, 2차원] 불필요한 특성 배제해 더 포괄적인 **개념**으로 올리기.

## 정적 모델

---

- 시간에 따라 변하는 객체를 사람의 인지로 모두 추적하기 어렵다 → **타입**으로 **정적 관점**에서 다룬다.
  - **스냅샷(객체 다이어그램)**: 특정 시점의 실제 상태. (**동적 모델**의 한 장면)
  - **타입 모델(정적 다이어그램)**: 가능한 **모든 상태/행동**을 **시간과 무관**하게 표현.


- 개발 흐름:
  - **클래스 작성**은 정적 관점.
  - **런타임 디버깅/트레이싱**은 동적 관점.


- 타입은 동적 상태를 정적으로 표현할 수 있으며, **클래스로 구현**되기도 한다.
  - 단, 클래스는 타입을 구현하기 위한 여러 메커니즘 중 하나일 뿐 (**클래스 ≠ 타입**)

> #### ✏️ 타입의 개념과 정적모델 정리
> - 타입은 객체의 **행동에 따른 분류 기준** ⇒ 타입의 **정의**
> - 타입은 객체들의 **동적 관점을 정적으로 바꿔 표현**한 것 ⇒ 타입의 **사용**
> 
> ⇒ **행동**은 조건에 따라 **모든 상태에 대해 서술 가능**하므로, 동적인 관점(모든 상태)을 정적인 관점(행동)으로 바꾸어 표현할 수 있다는 것.

## 정리

---

- 객체를 **타입**으로 분류한다 → 타입을 결정해 복잡성을 다룬다.
- **타입의 분류 기준은 행동**이다 → 구현 수단 중 하나가 **클래스**인 것.

<br>

> #### ✏️ 주요 키워드 : 복잡성 해결 → 추상화 → 분류 → 개념 → 타입
> 1) **세상은 복잡**하다 → 있는 그대로는 다룰 수 없음.
> 2) **추상화** → 중요한 것만 **선택**, 나머지는 **제거**.
>    
>   (객체지향에선 주로 **행동 중심**으로 추상화)
> 3) **개념** → 추상화를 통해 묶은 **분류 기준**(= 이러한 행동/특성을 가진 부류).
> 4) **타입** → 개념의 프로그래밍적 표현. **타입 = 행동(책임)으로 분류한 개념**.

> #### ✏️ 추상화 관점의 타입 정리
> - 개념(=타입)
>   - 특정 객체 → 특정 개념으로 추상화.
>   - (1차원) 공통 행동/책임을 추려 **같은 부류**로 묶는다.
>   - (2차원) 그 부류를 설명하는 데 **불필요한 세부를 제거**하고 **핵심을 강조**한다.
>   
>   ⇒ 추상화된 개념을 이용하여 객체를 **분류**함.
> 
> 
> - 일반화/특수화 계층
>   - 결국 '**개념**'이기 때문에, 위와 동일하게 작용한다.
>   - 개념 → 타입 : **슈퍼타입/서브타입**
> 
> 
> - 정적모델
>   - (2차원) **동적인 시간 변화 제거**
>   - (1차원) 제거 후, 가능한 행동/상태의 분류 및 규정
> 
>   ⇒ 타입은 동적 변화를 시간과 무관한 정적 규칙(행동 계약)으로 추상화함.